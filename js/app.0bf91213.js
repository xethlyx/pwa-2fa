(function(e){function t(t){for(var o,r,i=t[0],s=t[1],u=t[2],l=0,b=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&b.push(c[r][0]),c[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==c[s]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},c={app:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/pwa-2fa/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1:function(e,t){},2:function(e,t){},2425:function(e,t,n){"use strict";n("b591")},"297f":function(e,t,n){"use strict";n("d245")},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},"9b19":function(e,t,n){e.exports=n.p+"img/logo.3ec19a53.svg"},a178:function(e,t,n){},b591:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("267d"),n("57bc"),n("af7e"),n("01b5");var o=n("5b5b"),c=(n("09a4"),n("32e7"),n("1ff4"),{class:"main-content"});function a(e,t,n,a,r,i){var s=Object(o["y"])("sidebar"),u=Object(o["y"])("router-view");return Object(o["q"])(),Object(o["e"])(o["a"],null,[Object(o["h"])(s),Object(o["h"])("div",c,[Object(o["h"])(u,null,{default:Object(o["E"])((function(e){var t=e.Component;return[Object(o["h"])(o["b"],{name:"standard-fade",mode:"out-in"},{default:Object(o["E"])((function(){return[(Object(o["q"])(),Object(o["e"])(Object(o["z"])(t)))]})),_:2},1024)]})),_:1})]),Object(o["h"])(o["b"],{name:"fade"},{default:Object(o["E"])((function(){return[e.$store.state.contextMenu?(Object(o["q"])(),Object(o["e"])("div",{key:0,class:"context-menu",style:"left: ".concat(e.$store.state.contextMenu.x+10,"px; top: ").concat(e.$store.state.contextMenu.y+10,"px;")},[Object(o["h"])("div",{class:"context-menu-entry",onClick:t[1]||(t[1]=function(t){return e.copyToClipboard(e.$store.state.keys[e.$store.state.contextMenu.keyId].code)})},"Copy Code"),Object(o["h"])("div",{class:"context-menu-entry",onClick:t[2]||(t[2]=function(t){return e.$store.commit("deleteKey",e.$store.state.contextMenu.keyId)})},"Delete"),Object(o["h"])("div",{class:"context-menu-entry",onClick:t[3]||(t[3]=function(t){return e.copyToClipboard(e.$store.state.keys[e.$store.state.contextMenu.keyId].secret)})},"Export Secret")],4)):Object(o["f"])("",!0)]})),_:1})],64)}var r=n("9f08"),i=n("38cb"),s=n("c01d"),u=n("bf8b"),d=n("d9c4"),l=n("e71e"),b=n("9b19"),f=n.n(b),p=Object(o["G"])("data-v-567eeb64");Object(o["u"])("data-v-567eeb64");var v={class:"sidebar"},m=Object(o["h"])("div",{class:"logo"},[Object(o["h"])("img",{src:f.a,alt:""}),Object(o["h"])("span",null,"PWA-2FA")],-1),j={key:0,class:"dropdown"},O={class:"navigation"},h=Object(o["g"])("My Codes"),y=Object(o["g"])("Settings"),g=Object(o["h"])("a",{href:"https://github.com/xethlyx/pwa-2fa",class:"navigation-node",target:"_blank",rel:"norefferer noopener"},"Source Code",-1);Object(o["r"])();var k=p((function(e,t,n,c,a,r){var i=Object(o["y"])("router-link");return Object(o["q"])(),Object(o["e"])("div",v,[m,Object(o["h"])("button",{class:"new-code",onClick:t[1]||(t[1]=function(){return e.toggleDropdown&&e.toggleDropdown.apply(e,arguments)})}," Add New Code "),Object(o["h"])(o["b"],{name:"fade"},{default:p((function(){return[e.dropdownShown?(Object(o["q"])(),Object(o["e"])("div",j,[Object(o["h"])("div",{class:"dropdown-node",onClick:t[2]||(t[2]=function(){return e.notImplemented&&e.notImplemented.apply(e,arguments)})},"Scan QR Code"),Object(o["h"])("div",{class:"dropdown-node",onClick:t[3]||(t[3]=function(){return e.getCode&&e.getCode.apply(e,arguments)})},"Enter Code")])):Object(o["f"])("",!0)]})),_:1}),Object(o["h"])("div",O,[Object(o["h"])(i,{class:{"navigation-node":!0,active:"codes"===e.$route.meta.sidebar},to:"/"},{default:p((function(){return[h]})),_:1},8,["class"]),Object(o["h"])(i,{class:{"navigation-node":!0,active:"settings"===e.$route.meta.sidebar},to:"/settings"},{default:p((function(){return[y]})),_:1},8,["class"]),g])])})),w=n("22a0"),x=n("bede"),C=(n("b40e"),n("3537"),n("ecf0"),n("af82"),n("53dd")),S=n("6c16");function M(e){for(var t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}var E=Object(S["a"])({state:{keys:{},expiry:0,contextMenu:void 0},mutations:{importKeys:function(e,t){e.keys=t},addKey:function(e,t){var n=Object(x["a"])(t,2),o=n[0],c=n[1];e.keys[M(5)]={name:o,secret:c,code:C["totp"].generate(c)},localStorage.setItem("keys",JSON.stringify(e.keys))},deleteKey:function(e,t){var n=window.confirm("Are you sure you want to delete ".concat(e.keys[t].name,"?"));n&&delete e.keys[t]},updateKeys:function(e){var t=Object(w["a"])({},e.keys);Object.entries(t).forEach((function(e){var n=Object(x["a"])(e,2),o=n[0],c=n[1];t[o].code=C["totp"].generate(c.secret)}))},updateContext:function(e,t){var n;null===(n=e.contextMenu)||void 0===n||!n.debounce||t?e.contextMenu=t?Object(w["a"])(Object(w["a"])({},t),{},{debounce:!0}):void 0:delete e.contextMenu.debounce},updateExpiry:function(e){e.expiry=Date.now()+1e3*C["totp"].timeRemaining()}},actions:{},modules:{}}),_=E;function I(){E.commit("updateKeys"),E.commit("updateExpiry"),setTimeout(I,1e3*C["totp"].timeRemaining())}localStorage.getItem("keys")&&E.commit("importKeys",JSON.parse(localStorage.getItem("keys"))),setTimeout(I,0);var D=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.dropdownShown=!1,e.debounce=!1,e}return Object(i["a"])(n,[{key:"toggleDropdown",value:function(){this.dropdownShown||(this.debounce=!0),this.dropdownShown=!this.dropdownShown}},{key:"notImplemented",value:function(){alert("Not implemented!")}},{key:"getCode",value:function(){var e=window.prompt("What do you want to call this key?");if(e){var t=window.prompt("What is the secret?");t&&_.commit("addKey",[e,t])}}},{key:"hideDropdown",value:function(){this.debounce?this.debounce=!1:this.dropdownShown=!1}},{key:"mounted",value:function(){document.addEventListener("click",this.hideDropdown),document.addEventListener("contextmenu",this.hideDropdown)}},{key:"unmounted",value:function(){document.removeEventListener("click",this.hideDropdown),document.removeEventListener("contextmenu",this.hideDropdown)}}]),n}(l["b"]);n("297f");D.render=k,D.__scopeId="data-v-567eeb64";var L=D,N=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"clickListener",value:function(){_.state.contextMenu&&_.commit("updateContext",void 0)}},{key:"mounted",value:function(){document.addEventListener("click",this.clickListener),document.addEventListener("contextmenu",this.clickListener)}},{key:"unmounted",value:function(){document.removeEventListener("click",this.clickListener),document.removeEventListener("contextmenu",this.clickListener)}},{key:"copyToClipboard",value:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}]),n}(l["b"]);N=Object(d["a"])([Object(l["a"])({components:{Sidebar:L}})],N);var $=N;n("2425");$.render=a;var q=$,A=n("fb74");Object(A["a"])("".concat("/pwa-2fa/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var T=n("b6c7"),K=Object(o["G"])("data-v-197e0cb0");Object(o["u"])("data-v-197e0cb0");var P={class:"home"};Object(o["r"])();var B=K((function(e,t,n,c,a,r){var i=Object(o["y"])("key-container");return Object(o["q"])(),Object(o["e"])("div",P,[(Object(o["q"])(!0),Object(o["e"])(o["a"],null,Object(o["x"])(e.$store.state.keys,(function(e,t){return Object(o["q"])(),Object(o["e"])(i,{key:t,label:e.name,code:e.code,id:t},null,8,["label","code","id"])})),128))])})),F=n("0b86"),G=n("f51c"),J=n.n(G),R=Object(o["G"])("data-v-609add22");Object(o["u"])("data-v-609add22");var W={class:"label-container"},H={class:"label"},Y=Object(o["h"])("img",{src:J.a,alt:"more",draggable:"false"},null,-1),z={class:"code"},X={class:"first"},Q=Object(o["h"])("div",{class:"progress"},[Object(o["h"])("object",{data:"./spinner.svg",class:"behind",type:"image/svg+xml"}),Object(o["h"])("object",{data:"./spinner.svg",class:"above",type:"image/svg+xml"})],-1);Object(o["r"])();var V=R((function(e,t,n,c,a,r){return Object(o["q"])(),Object(o["e"])("div",{class:"key-container",onContextmenu:t[2]||(t[2]=Object(o["F"])((function(t){return e.$store.commit("updateContext",{x:t.pageX,y:t.pageY,keyId:e.id})}),["prevent"]))},[Object(o["h"])("span",W,[Object(o["h"])("span",H,Object(o["B"])(e.label),1)]),Object(o["h"])("button",{class:"more",onClick:t[1]||(t[1]=function(t){return e.$store.commit("updateContext",{x:t.pageX,y:t.pageY,keyId:e.id})})},[Y]),Object(o["h"])("span",z,[Object(o["h"])("span",X,Object(o["B"])(e.code.substring(0,3)),1),Object(o["h"])("span",null,Object(o["B"])(e.code.substring(3,6)),1)]),Q],32)})),U=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(l["b"]);U=Object(d["a"])([Object(l["a"])({props:{label:String,code:String,id:String}})],U);var Z=U;n("e228");Z.render=V,Z.__scopeId="data-v-609add22";var ee=Z,te=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.isMounted=!0,e}return Object(i["a"])(n,[{key:"animate",value:function(){var e,t=(_.state.expiry-Date.now())/3e4,n=document.getElementsByClassName("above"),o=Object(F["a"])(n);try{for(o.s();!(e=o.n()).done;){var c=e.value;if(c instanceof HTMLObjectElement){var a=c.contentDocument;if(a){var r=a.querySelector("circle");if(r){var i=r.r.baseVal.value,s=2*i*Math.PI;r.style.strokeDasharray="".concat(s," ").concat(s),r.style.strokeDashoffset="".concat(s);var u=s-t*s;r.style.strokeDashoffset="".concat(u,"px")}}}}}catch(d){o.e(d)}finally{o.f()}this.isMounted&&setTimeout(this.animate,1e3)}},{key:"mounted",value:function(){this.animate()}},{key:"unmounted",value:function(){this.isMounted=!1}}]),n}(l["b"]);te=Object(d["a"])([Object(l["a"])({components:{KeyContainer:ee}})],te);var ne=te;n("e664");ne.render=B,ne.__scopeId="data-v-197e0cb0";var oe=ne,ce={class:"settings"};function ae(e,t){return Object(o["q"])(),Object(o["e"])("div",ce," Not implemented ")}const re={};re.render=ae;var ie=re,se=[{path:"/",name:"Home",component:oe,meta:{sidebar:"codes"}},{path:"/settings",name:"Settings",component:ie,meta:{sidebar:"settings"}}],ue=Object(T["a"])({history:Object(T["b"])(),routes:se}),de=ue;Object(o["d"])(q).use(_).use(de).mount("#app"),console.log("%cWARNING","color: red; font-size: 70px; -webkit-text-stroke: 1px white;"),console.log("Do not paste ANYTHING here that you don't trust. By pasting code here you are giving attackers full access to all of your 2FA tokens!")},d245:function(e,t,n){},e228:function(e,t,n){"use strict";n("a178")},e664:function(e,t,n){"use strict";n("fd76")},f51c:function(e,t,n){e.exports=n.p+"img/more.45700fa6.svg"},fd76:function(e,t,n){}});
//# sourceMappingURL=app.0bf91213.js.map